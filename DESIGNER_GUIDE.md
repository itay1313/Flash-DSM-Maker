# מדריך למעצב - איך להתחבר לפרויקט

## שלום! 👋

מדריך זה יעזור לך להתחבר לפרויקט Design System Flow Builder ולחבר את החשבון שלך ב-Figma.

---

## דרישות מוקדמות

לפני שנתחיל, ודא שיש לך:

1. **Node.js גרסה 18 ומעלה** - [הורד כאן](https://nodejs.org/)
2. **npm או yarn** - מגיע עם Node.js
3. **חשבון Figma פעיל** - [הירשם כאן](https://www.figma.com/)
4. **גישה לרשת ה-Git** - כדי להוריד את הפרויקט

---

## שלב 1: הורדת הפרויקט

### אופציה א': אם יש לך גישה ל-GitHub

1. פתח את הטרמינל (Terminal) במחשב שלך
2. נווט לתיקייה שבה תרצה לשמור את הפרויקט:

   ```bash
   cd ~/Desktop
   ```

3. שכפל את הפרויקט:

   ```bash
   git clone [כתובת ה-URL של הפרויקט]
   ```

4. היכנס לתיקיית הפרויקט:

   ```bash
   cd dsm-node
   ```

### אופציה ב': אם קיבלת את הפרויקט בקובץ ZIP

1. פתח את קובץ ה-ZIP
2. העתק את התיקייה `dsm-node` למקום נוח (למשל Desktop)
3. פתח את הטרמינל ונווט לתיקייה:

   ```bash
   cd ~/Desktop/dsm-node
   ```

---

## שלב 2: התקנת התלויות עם `npm i`

**הרץ את הפקודה הבאה בטרמינל:**

```bash
npm i
```

או:

```bash
npm install
```

> 💡 **מה זה `npm i`?**
>
> - `npm i` הוא קיצור של `npm install`
> - הפקודה קוראת את קובץ `package.json` ומורידה את כל החבילות (packages) שהפרויקט צריך
> - החבילות נשמרות בתיקייה `node_modules`
> - זה יכול לקחת כמה דקות בפעם הראשונה

**מה קורה כשאתה מריץ `npm i`:**

1. npm קורא את קובץ `package.json`
2. מוריד את כל החבילות הנדרשות
3. מתקין אותן בתיקייה `node_modules`
4. יוצר קובץ `package-lock.json` (מנהל גרסאות מדויקות)

> ⚠️ **חשוב:** הרץ את הפקודה `npm i` רק פעם אחת אחרי הורדת הפרויקט, או אם מישהו הוסיף חבילות חדשות לפרויקט.

---

## שלב 2.5: הגדרת Figma API Key (חשוב! 🔑)

**לפני שתוכל להתחבר ל-Figma, אתה צריך ליצור Personal Access Token ב-Figma ולהגדיר אותו בפרויקט.**

### איך ליצור Figma Personal Access Token

1. **היכנס לחשבון Figma שלך:**
   - פתח את [Figma.com](https://www.figma.com/)
   - התחבר לחשבון שלך

2. **גש להגדרות:**
   - לחץ על התמונה/אווטר שלך בפינה הימנית העליונה
   - בחר **"Settings"** (הגדרות)

3. **צור Personal Access Token:**
   - גלול למטה עד שתגיע לסעיף **"Personal access tokens"**
   - לחץ על **"Create new token"** (צור טוקן חדש)
   - תן שם לטוקן (למשל: "Design System Project")
   - בחר את תוקף הטוקן:
     - **90 days** - תפוגה אחרי 90 יום
     - **Custom** - תאריך מותאם אישית
     - **No expiration** - ללא תפוגה (מומלץ לפרויקטים)
   - לחץ על **"Create token"**

4. **העתק את הטוקן:**
   - ⚠️ **חשוב מאוד:** הטוקן יוצג רק פעם אחת!
   - העתק את הטוקן מיד (נראה כמו: `figd_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx`)
   - שמור אותו במקום בטוח

### איך להוסיף את הטוקן לפרויקט

1. **צור קובץ `.env.local` בתיקיית הפרויקט:**
   - בתיקיית `dsm-node`, צור קובץ חדש בשם `.env.local`
   - **הערה:** הקובץ מתחיל בנקודה (`.`) - זה חשוב!

2. **הוסף את הטוקן לקובץ:**
   - פתח את הקובץ `.env.local` בעורך טקסט
   - הוסף את השורה הבאה (החלף `YOUR_FIGMA_TOKEN` בטוקן שהעתקת):

   ```env
   NEXT_PUBLIC_FIGMA_ACCESS_TOKEN=YOUR_FIGMA_TOKEN
   ```

   - דוגמה:

   ```env
   NEXT_PUBLIC_FIGMA_ACCESS_TOKEN=figd_abc123xyz789...
   ```

3. **שמור את הקובץ:**
   - שמור את הקובץ (`.env.local`)
   - ודא שהקובץ נמצא בתיקיית הפרויקט (`dsm-node`)

### איך ליצור את הקובץ מהטרמינל (אופציונלי)

אם אתה מעדיף להשתמש בטרמינל:

```bash
# נווט לתיקיית הפרויקט (אם עדיין לא שם)
cd ~/Desktop/dsm-node

# צור את הקובץ (Mac/Linux)
touch .env.local

# או ב-Windows
type nul > .env.local

# פתח את הקובץ בעורך טקסט
# Mac/Linux:
open .env.local
# או
nano .env.local

# Windows:
notepad .env.local
```

### ⚠️ אזהרות חשובות

- **אל תשתף את הטוקן שלך!** - הטוקן נותן גישה מלאה לחשבון Figma שלך
- **אל תעלה את `.env.local` ל-GitHub** - הקובץ כבר מוגדר ב-`.gitignore` כך שלא יועלה בטעות
- **אם הטוקן נחשף** - מחק אותו מיד מ-Figma וצור אחד חדש

---

## שלב 3: הפעלת השרת

### אפשרות א': פיתוח עם `npm run dev` (מומלץ)

**הרץ את הפקודה הבאה בטרמינל:**

```bash
npm run dev
```

> 💡 **מה זה `npm run dev`?**
>
> - מפעיל את השרת במצב פיתוח (development mode)
> - השרת מתעדכן אוטומטית כשאתה משנה קבצים (hot reload)
> - מושלם לעבודה ופיתוח
> - השרת רץ על `http://localhost:3000`

**מה קורה כשאתה מריץ `npm run dev`:**

1. Next.js בונה את הפרויקט
2. מפעיל שרת מקומי
3. מציג את כתובת השרת (בדרך כלל `http://localhost:3000`)
4. ממתין לשינויים בקוד ומעדכן אוטומטית

> ⚠️ **חשוב:** אם יצרת את קובץ `.env.local` אחרי שהפעלת את השרת, תצטרך לעצור אותו (Ctrl+C) ולהפעיל אותו מחדש כדי שהשינויים ייכנסו לתוקף.

### אפשרות ב': ייצור עם `npm start` (לאחר בנייה)

**לפני שימוש ב-`npm start`, צריך לבנות את הפרויקט:**

```bash
# 1. בניית הפרויקט לייצור
npm run build

# 2. הפעלת השרת בייצור
npm start
```

> 💡 **מה זה `npm start`?**
>
> - מפעיל את השרת במצב ייצור (production mode)
> - השרת מהיר יותר אבל לא מתעדכן אוטומטית
> - דורש בנייה מראש עם `npm run build`
> - מומלץ לבדיקות לפני העלאה לשרת

**הבדלים בין `npm run dev` ל-`npm start`:**

| תכונה | `npm run dev` | `npm start` |
|------|---------------|-------------|
| מצב | פיתוח | ייצור |
| מהירות | איטי יותר | מהיר יותר |
| עדכון אוטומטי | ✅ כן | ❌ לא |
| דורש בנייה | ❌ לא | ✅ כן (`npm run build`) |
| מומלץ ל... | פיתוח ועבודה | בדיקות ופריסה |

> 💡 **למעצבים:** מומלץ להשתמש ב-`npm run dev` כי זה נוח יותר לעבודה.

**אחרי כמה שניות, תראה הודעה כמו:**

עם `npm run dev`:

```
✓ Ready in 2.3s
○ Local:        http://localhost:3000
```

עם `npm start`:

```
✓ Ready in 1.2s
○ Local:        http://localhost:3000
```

---

## שלב 4: פתיחת האפליקציה בדפדפן

1. פתח את הדפדפן שלך (Chrome, Firefox, Safari וכו')
2. גש לכתובת: **<http://localhost:3000>**
3. אתה אמור לראות את מסך הבית של האפליקציה

---

## שלב 5: חיבור ל-Figma

### איך למצוא את כפתור החיבור ל-Figma

1. **במסך הראשי:**
   - חפש את ה-Node מסוג "Figma Setup" או "Design & Style"
   - לחץ עליו כדי לבחור אותו

2. **בפאנל הימני:**
   - אחרי בחירת ה-Node, תראה פאנל בצד ימין
   - חפש את הכפתור **"Connect to Figma"** (או "חבר ל-Figma")
   - הכפתור בדרך כלל עם אייקון של Figma (ריבוע סגול)

3. **לחיצה על הכפתור:**
   - לחץ על "Connect to Figma"
   - יפתח חלון מודאלי (חלון קופץ)

### תהליך החיבור

1. **בחלון המודאלי:**
   - תראה הודעה: "Connect Your Figma Account"
   - לחץ על הכפתור **"Connect with Figma"**

2. **אישור הרשאות:**
   - יפתח חלון חדש של Figma (או תועבר לדף Figma)
   - התחבר לחשבון Figma שלך אם עדיין לא התחברת
   - אשר את ההרשאות שהאפליקציה מבקשת

3. **בחירת קובץ:**
   - אחרי החיבור, תראה רשימה של הקבצים שלך ב-Figma
   - כל קובץ יציג:
     - שם הקובץ
     - שם הפרויקט
     - תאריך עדכון אחרון
   - לחץ על הקובץ שבו תרצה להשתמש

4. **סיום:**
   - הקובץ שנבחר יוצג ב-Node
   - לחץ על "Done" כדי לסגור את החלון

---

## טיפים שימושיים

### אם החיבור לא עובד

1. **ודא שהשרת רץ:**
   - בטרמינל, ודא שאתה רואה "Ready" או "Local: <http://localhost:3000>"
   - אם לא, הרץ שוב `npm run dev`

2. **ודא שה-API Key מוגדר נכון:**
   - בדוק שקובץ `.env.local` קיים בתיקיית הפרויקט
   - ודא שהטוקן נכון ולא פג תוקף
   - ודא שהשרת הופעל מחדש אחרי יצירת הקובץ

3. **נסה לרענן את הדף:**
   - לחץ F5 או Cmd+R (Mac) / Ctrl+R (Windows)

4. **נקה את ה-Cache:**
   - לחץ Cmd+Shift+R (Mac) / Ctrl+Shift+R (Windows)

5. **ודא שאתה מחובר ל-Figma:**
   - פתח את Figma בדפדפן נפרד וודא שאתה מחובר

6. **בדוק את הודעות השגיאה:**
   - פתח את הקונסול של הדפדפן (F12)
   - חפש הודעות שגיאה הקשורות ל-Figma API

### שינוי קובץ Figma

- אם כבר בחרת קובץ ורוצה לשנות אותו:
  1. לחץ על ה-Node "Figma Setup"
  2. בפאנל הימני, לחץ על "Change" ליד שם הקובץ
  3. בחר קובץ חדש

### ניתוק מ-Figma

- אם תרצה לנתק את החיבור:
  1. פתח את חלון החיבור ל-Figma
  2. לחץ על "Disconnect" בתחתית החלון

### עדכון או החלפת API Token

- אם הטוקן פג תוקף או שאתה רוצה להחליף אותו:
  1. צור טוקן חדש ב-Figma (עקוב אחרי ההוראות למעלה)
  2. עדכן את הקובץ `.env.local` עם הטוקן החדש
  3. הפעל מחדש את השרת (`npm run dev` או `npm start`)

---

## מה הלאה?

אחרי שהתחברת ל-Figma:

1. **בחר קובץ** - בחר את קובץ העיצוב שבו תרצה לעבוד
2. **הגדר את הפרויקט** - מלא את פרטי הפרויקט ב-Nodes השונים
3. **צור את ה-Design System** - השתמש בכלים של האפליקציה לבניית מערכת העיצוב

---

## בעיות נפוצות

### "npm: command not found"

- **פתרון:** התקן Node.js מ-[nodejs.org](https://nodejs.org/)

### "Port 3000 is already in use"

- **פתרון:** סגור את האפליקציה שרצה על פורט 3000, או הרץ:

  ```bash
  PORT=3001 npm run dev
  ```

  או:

  ```bash
  PORT=3001 npm start
  ```

  ואז גש ל-<http://localhost:3001>

### "Cannot find module"

- **פתרון:** הרץ שוב:

  ```bash
  npm i
  ```

  או:

  ```bash
  npm install
  ```

### "npm start" לא עובד

- **פתרון:** ודא שבנית את הפרויקט קודם:

  ```bash
  npm run build
  npm start
  ```

### חלון החיבור ל-Figma לא נפתח

- **פתרון:**
  - ודא שאין חסימת חלונות קופצים בדפדפן
  - נסה בדפדפן אחר
  - ודא שה-API Token מוגדר נכון

### "Figma API Error" או "Unauthorized"

- **פתרון:**
  - ודא שה-API Token נכון בקובץ `.env.local`
  - ודא שהטוקן לא פג תוקף
  - ודא שהשרת הופעל מחדש אחרי הוספת הטוקן
  - צור טוקן חדש ב-Figma אם צריך

### "Cannot read property 'env' of undefined"

- **פתרון:**
  - ודא שקובץ `.env.local` קיים בתיקיית הפרויקט
  - ודא שהשם של המשתנה נכון: `NEXT_PUBLIC_FIGMA_ACCESS_TOKEN`
  - ודא שהשרת הופעל מחדש

---

## סיכום - צעדים מהירים

### לפיתוח (מומלץ למעצבים)

```bash
# 1. היכנס לתיקיית הפרויקט
cd dsm-node

# 2. התקן תלויות
npm i

# 3. צור קובץ .env.local והוסף את ה-Figma Token
# (עקוב אחרי ההוראות למעלה)

# 4. הפעל את השרת במצב פיתוח
npm run dev

# 5. פתח בדפדפן
# http://localhost:3000

# 6. לחץ על "Connect to Figma" ובחר קובץ
```

### לייצור (לבדיקות)

```bash
# 1. היכנס לתיקיית הפרויקט
cd dsm-node

# 2. התקן תלויות
npm i

# 3. צור קובץ .env.local והוסף את ה-Figma Token
# (עקוב אחרי ההוראות למעלה)

# 4. בנה את הפרויקט
npm run build

# 5. הפעל את השרת במצב ייצור
npm start

# 6. פתח בדפדפן
# http://localhost:3000
```

---

## רשימת פקודות שימושיות

| פקודה | מה זה עושה | מתי להשתמש |
|------|-----------|------------|
| `npm i` | מתקין את כל החבילות | פעם אחת אחרי הורדת הפרויקט |
| `npm run dev` | מפעיל שרת פיתוח | לעבודה יומיומית |
| `npm run build` | בונה את הפרויקט | לפני `npm start` |
| `npm start` | מפעיל שרת ייצור | לבדיקות אחרונות |

---

**בהצלחה! 🎨**

```

עדכנתי את הקובץ בתוכן המלא. המדריך כולל:

✅ הסבר מפורט על `npm i` ו-`npm install`  
✅ הסבר מפורט על `npm run dev` ו-`npm start`  
✅ הוראות להגדרת Figma API Key  
✅ הוראות חיבור ל-Figma  
✅ פתרון בעיות נפוצות  
✅ טבלאות השוואה ורשימת פקודות  
✅ סיכום מהיר עם כל הצעדים

הקובץ מוכן לשימוש.
```
